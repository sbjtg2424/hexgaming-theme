(function(){"use strict";var e=["vertical","reverse","cycle","speed","playSpeed"];function t(t){t.mouse=t.mouse||!0,t.scroll=t.scroll||!1,t.vertical=t.vertical||!1,t.reverse=t.reverse||!1,t.cycle=t.cycle||!0,t.start=t.start||0,t.speed=t.speed||50;var n=t.autoplay||!1;t.playSpeed=t.playSpeed||100;var o=this.el=t.element;o.setAttribute("data-circlr",!0);var i,a=t.loader?document.getElementById(t.loader):void 0,l=this.length=o.getElementsByTagName("img").length,s=t.height||void 0,c=t.width||void 0,r=!1,u=[],d=[],f={Y:null,X:null,frame:0},y={};y.ready=t.ready||void 0,y.change=t.change||void 0;var h=["wheel","mousewheel","scroll","DOMMouseScroll"];function m(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,(function(){n.call(e,window.event)}))}function g(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function p(e){n=!1,g(e),e="touchstart"===e.type?e.changedTouches[0]:e,r=!0,t.vertical?f.Y=e.clientY-o.offsetTop:f.X=e.clientX-o.offsetLeft}function v(e){return e<0?e=t.cycle?e+l:0:e>l-1&&(e=t.cycle?e-l:l-1),e}function w(e){if(r){g(e),e="touchmove"===e.type?e.changedTouches[0]:e;var n=t.vertical?e.clientY-o.offsetTop-f.Y:e.clientX-o.offsetLeft-f.X;n=t.reverse?-n:n;var a=c/l,s=i;(n=Math.floor(n/a))!==i&&s!==(i=v(f.frame+n))&&(o.getElementsByTagName("img")[s].style.display="none",o.getElementsByTagName("img")[i].style.display="block","function"==typeof y.change&&y.change(i,l))}}function b(e){g(e),r=!1,f.frame=i}function E(e){n=!1,g(e);var a=e.deltaY||e.detail||-e.wheelDelta;a/=Math.abs(a),a=t.reverse?-a:a,i=v(i+a),o.getElementsByTagName("img")[f.frame].style.display="none",o.getElementsByTagName("img")[i].style.display="block",f.frame=i,"function"==typeof y.change&&y.change(i,l)}function T(){if(a&&(a.style.display="none"),0===d.length){var e=v(t.start);if(o.getElementsByTagName("img")[e].style.display="block",i=e,o.style.position="relative",o.style.width="100%","ontouchstart"in window||"onmsgesturechange"in window)(t.mouse||t.scroll)&&(m(o,"touchstart",p),m(o,"touchmove",w),m(o,"touchend",b));else if(t.mouse&&(m(o,"mousedown",p),m(o,"mousemove",w),m(document,"mouseup",b)),t.scroll)for(var l=0;l<h.length;l++)if("on"+h[l]in window){m(o,h[l],E);break}n&&A()}"function"==typeof y.ready&&y.ready(d)}function B(e){e.onload=function(){u.push(this.src),u.length+d.length===l&&T()},e.onerror=function(){d.push(this.src),u.length+d.length===l&&T()},e.onreadystatechange=function(){this.onload()}}function N(e){o.getElementsByTagName("img")[i].style.display="none",o.getElementsByTagName("img")[e].style.display="block",f.frame=i=e}!function(){var e;a&&(a.style.display="block");for(var t=0;t<l;t++)(e=o.getElementsByTagName("img")[t]).style.display="none",e.style.width="100%",e.setAttribute("src",e.getAttribute("data-src")),e.setAttribute("data-index",t),e.removeAttribute("data-src"),B(e);s=s||o.clientHeight,c=c||o.clientWidth}();var k=this.turn=function(e){e=v(e),n=!0,function o(){e!==i&&n?(N(v(e<i?i-1:i+1)),setTimeout(o,void 0===e?t.playSpeed:t.speed)):e===i&&(f.frame=i=e,n=!1,"function"==typeof y.change&&y.change(i,l))}()};this.go=function(e){e!==i&&(N(e),"function"==typeof y.change&&y.change(i,l))};var A=this.play=function(){n=!0,k()};this.stop=function(){n=!1},this.show=function(){o.style.display="block"},this.hide=function(){o.style.display="none"},this.set=function(n){for(var o,i=0;i<e.length;i++)t[o=e[i]]=void 0!==n[o]?n[o]:t[o]}}function n(e,n){if(!(e=document.getElementById(e)).getAttribute("data-circlr"))return(n=n||{}).element=e,new t(n)}"function"==typeof define&&define.amd?define([],(function(){return n})):"undefined"!=typeof module&&module.exports?module.exports=n:this.circlr=n}).call(this);